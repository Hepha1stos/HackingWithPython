{% extends 'base.html' %}
{% block title %}
Eintrag bearbeiten
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card modern-card">
        <div class="card-header modern-card-header">
          <h4 class="mb-0 text-center">Eintrag bearbeiten</h4>
        </div>
        <div class="card-body modern-card-body">
          <form method="post" action="">
            <!-- Datum -->
            <div class="mb-3">
              <label for="date" class="form-label">Datum</label>
              <input
                type="date"
                class="form-control modern-form-control"
                id="date"
                name="date"
                value="{{ log.date }}"
                required
              />
            </div>

            <!-- Von (timeFrom) -->
            <div class="mb-3">
              <label for="timeFrom" class="form-label">Von</label>
              <input
                type="time"
                class="form-control modern-form-control"
                id="timeFrom"
                name="timeFrom"
                value="{{ log.timeFrom }}"
                required
              />
            </div>

            <!-- Bis (timeTo) -->
            <div class="mb-3">
              <label for="timeTo" class="form-label">Bis</label>
              <input
                type="time"
                class="form-control modern-form-control"
                id="timeTo"
                name="timeTo"
                value="{{ log.timeTo }}"
                required
              />
            </div>

            <!-- Beschreibung -->
            <div class="mb-3">
              <label for="description" class="form-label">Beschreibung</label>
              <input
                type="text"
                class="form-control modern-form-control"
                id="description"
                name="description"
                value="{{ log.description }}"
                required
              />
            </div>

            <!-- Kategorie-Auswahl -->
            <div class="mb-3">
              <label for="category_id" class="form-label">Kategorie</label>
              <select
                class="form-select modern-form-control"
                id="category_id"
                name="category_id"
                required
              >
                {% for cat in categories %}
                  <option value="{{ cat[0] }}"
                    {% if cat[0] == log.category_id %}selected{% endif %}>
                    {{ cat[1] }}
                  </option>
                {% endfor %}
              </select>
            </div>

            <!-- Buttons -->
            <button type="submit" class="btn modern-btn w-100 mb-3">
              Speichern
            </button>
            <a href="{{ url_for('timelog_routes.show') }}" class="btn modern-btn-cancel w-100">
              Abbrechen
            </a>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
